<app-navbar></app-navbar>
<main class="container-fluid app-main pl-5 pr-5">
    <div class="row  pl-5 pr-5">
        <button class="btn btn-link text-secondary" routerLink="/home" title="Regresar al Pantalla Principal">
      <span class="fas fa-chevron-left"></span> Pantalla Principal
    </button>
    </div>

    <br>
    <div class="container-fluid pl-5 pr-5">
        <div class="row2">
            <div class="col-lg-19">
                <h4 class="TitleLine">Consultas Pep</h4>
            </div>
        </div>
        <div class="tab-content">
            <div class="borderFormat">
                <div class="row form-group">
                    <div class="col-lg-1">
                        <span class="fontText">Año:</span>
                    </div>
                    <div class="col-lg-2">
                        <select class="form-control" [(ngModel)]="NANO">
                            <option value="0">
                                --Todos--</option>
                            <option *ngFor="let item of this.listAnos" value="{{item}}">
                                {{item}}</option>
                        </select>
                    </div>
                    <div class="col-lg-1" >
                        <span class="fontText">Período:</span>
                    </div>
                    <div class="col-lg-2">
                        <select class="form-control" [(ngModel)]="NPERIODO_PROCESO">
                            <option value="0">
                                --Todos--</option>
                            <option *ngFor="let item of this.listPeriodos" value="{{item}}">
                                {{item}}</option>
                        </select>
                    </div>
                    <div class="col-lg-1" >
                        <span class="fontText">Tipo Lista:</span>
                    </div>
                    <div class="col-lg-2">
                        <select class="form-control" [(ngModel)]="NIDTIPOLISTA">
                            <option value="0">
                                --Todos--</option>
                            <option *ngFor="let item of this.listType" value="{{item.NIDTIPOLISTA}}">
                                {{item.SDESTIPOLISTA}}</option>
                        </select>
                    </div>
                    <div class="col-lg-2">
                        <button _ngcontent-qgx-c1="" (click)="getResult()" class="btn btn-warning text-white ">Buscar</button>
                    </div>
                </div>
                <div class="" style="overflow-y:none;">
                    <hr>
                    <table class="striped">
                        <thead>
                            <tr>
                                <th style="width: 14%;">Período</th>
                                <th style="width: 14%;">Tipo de Documento</th>
                                <th style="width: 14%;">Número de Documento</th>
                                <th style="width: 14%;">Nombres</th>
                                <th style="width: 30%;">Producto</th>
                                <th style="width: 14%;">Tipo Lista</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngIf="this.Colleccion.count == 0 || this.Colleccion.count == undefined" class="ce">
                                <td class="text-center" colspan="6">No se han encontrado resultados</td>
                            </tr>
                            <tr *ngFor="let item of this.Colleccion.data ">
                                <td style="width: 14%;">{{item.SRANGOPERIODO}}</td>
                                <td style="width: 14%;">{{item.STIPO_DOCUMENTO}}</td>
                                <td style="width: 14%;">{{item.SNUM_DOCUMENTO}}</td>
                                <td style="width: 14%;">{{item.SNOM_COMPLETO}}</td>
                                <td style="width: 30%;">{{item.SDESPRODUCTO}}</td>
                                <td style="width: 14%;">{{item.SDESTIPOLISTA}}</td>
                            </tr>
                        </tbody>
                    </table>
                    <ng-container *ngIf="this.data.length>0; then showPagination"></ng-container>
                    <ng-template #showPagination>
                        <div class="row mt-4">
                            <div class="col-sm-4">
                                <button (click)="descarga()" class="btn btn-outline-info form-control  buttonSinBorder colorButton"><i class="fas fa-download"></i> Descargar Resultados </button>

                            </div>
                            <div class="col-sm-4">
                                <ngb-pagination [(page)]="currentPage" [pageSize]="itemsPerPage" [collectionSize]="totalItems" [maxSize]="maxSize" aria-label="Default pagination" (pageChange)="pageChanged(currentPage)">
                                </ngb-pagination>
                            </div>
                        </div>
                    </ng-template>
                    <!-- <div *ngIf="this.Colleccion.count > 0" class="row px-3 justify-content-between">
                        <pagination-controls (pageChange)="onPageChange($event)" previousLabel="Anterior" nextLabel="Siguiente"></pagination-controls>
                        <div>
                            <button (click)="descarga()" class="btn btn-outline-info form-control  buttonSinBorder colorButton"><i class="fas fa-download"></i> Descargar </button>
                        </div>
                    </div> -->
                </div>
            </div>
        </div>
    </div>
</main>
<br>
<app-footer></app-footer>